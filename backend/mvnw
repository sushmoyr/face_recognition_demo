#!/bin/sh
# Maven Wrapper script

# Function to find Java home
find_java_home() {
    if [ -n "$JAVA_HOME" ] ; then
        if [ -x "$JAVA_HOME/jre/sh/java" ] ; then
            JAVACMD="$JAVA_HOME/jre/sh/java"
        else
            JAVACMD="$JAVA_HOME/bin/java"
        fi
    else
        JAVACMD=`which java`
        if [ ! -n "$JAVACMD" ] ; then
            echo "Error: JAVA_HOME is not defined correctly."
            echo "  We cannot execute $JAVACMD"
            exit 1
        fi
    fi
}

find_java_home

exec "$JAVACMD" \
    $MAVEN_OPTS \
    -classpath ~/.m2/wrapper/maven-wrapper.jar \
    "-Dmaven.multiModuleProjectDirectory=${MAVEN_PROJECTBASEDIR}" \
    org.apache.maven.wrapper.MavenWrapperMain "$@"
